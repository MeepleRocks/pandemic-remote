(this["webpackJsonppandemic-remote-client"]=this["webpackJsonppandemic-remote-client"]||[]).push([[0],{146:function(e,n,i){"use strict";i.r(n);var t,o=i(4),r=i(0),a=i.n(r),c=i(16),d=i.n(c),s=i(27),l=i(201),m=i(202),u=i(203),b=i(34),j=i(12),g=i(60),f=i(94),p=i.n(f),h=i(116),O=i(71),x=i(95),y=i(96),v=i(97),k=function(){return console.log(x,y,v),x.map((function(e){return Object(j.a)(Object(j.a)({},e),{},{region:v[e.region],faction:y[e.faction]})}))},S="deck",P={pending:!1,error:"",cards:k(),deck:[],discard:[],1:[],2:[],3:[],4:[]},C=Object(O.b)("".concat(S,"/fetchCards"),Object(h.a)(p.a.mark((function e(){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=k(),console.log(n),e.abrupt("return",n);case 3:case"end":return e.stop()}}),e)})))),A=Object(O.c)({name:S,initialState:P,reducers:{draw:function(e,n){var i=n.payload.hand,t=n.payload.card,o=Object(g.a)(e[i]),r=e.cards.find((function(e){return e.id===t})),a=e.deck.filter((function(e){return e.id!==t}));return o.push(r),Object(j.a)(Object(j.a)({},e),{},Object(b.a)({deck:a},i,o))},discard:function(e,n){var i=n.payload.hand,t=n.payload.card,o=Object(g.a)(e.discard),r=e.cards.find((function(e){return e.id===t}));o.push(r);var a=e[i].filter((function(e){return e.id!==t}));return Object(j.a)(Object(j.a)({},e),{},Object(b.a)({discard:o},i,a))},xfer:function(e,n){var i,t=n.payload.from,o=n.payload.to,r=n.payload.card,a=Object(g.a)(e[t]),c=Object(g.a)(e[o]),d=e.cards.find((function(e){return e.id===r}));c.push(d);var s=a.filter((function(e){return e.id!==r}));return Object(j.a)(Object(j.a)({},e),{},(i={},Object(b.a)(i,t,s),Object(b.a)(i,o,c),i))},redraw:function(e,n){var i=n.payload.hand,t=n.payload.card,o=Object(g.a)(e[i]),r=e.cards.find((function(e){return e.id===t})),a=e.discard.filter((function(e){return e.id!==t}));return o.push(r),Object(j.a)(Object(j.a)({},e),{},Object(b.a)({discard:a},i,o))},reset:function(e){return Object(j.a)(Object(j.a)({},P),{},{cards:e.cards,deck:e.cards})}},extraReducers:(t={},Object(b.a)(t,C.pending,(function(e,n){return console.log("pending",n),Object(j.a)(Object(j.a)({},e),{},{pending:!0})})),Object(b.a)(t,C.fulfilled,(function(e,n){return console.log("fulfilled",n),Object(j.a)(Object(j.a)({},e),{},{cards:n.payload,deck:n.payload,pending:!1})})),Object(b.a)(t,C.rejected,(function(e,n){return console.log("rejected",n),Object(j.a)(Object(j.a)({},e),{},{error:n.error.message,pending:!1})})),t)}),T=A.actions,w=T.draw,_=T.discard,E=T.xfer,H=T.redraw,R=T.reset,N=A.reducer,B=i(197),D=i(149),I=function(e){var n=e.name,i=e.description,t=e.condition;return Object(o.jsx)(D.a,{elevation:5,style:{display:"inline-block",position:"relative",padding:"0.5rem",width:"12rem",height:"18rem",lineHeight:1,background:"beige"},children:Object(o.jsxs)("div",{style:{lineHeight:1,height:"100%",padding:"1rem",textAlign:"center",background:"orangered",boxShadow:"0px 0px 4px rgba(85,85,85, 0.25)"},children:[Object(o.jsx)("div",{style:{marginBottom:"2rem",fontWeight:700},children:n}),Object(o.jsxs)("div",{style:{background:"antiquewhite",padding:"1rem",fontSize:"0.75rem"},children:[Object(o.jsx)("div",{style:{marginBottom:"0.5rem",paddingBottom:"0.5rem",borderBottom:"1px solid black"},children:i}),Object(o.jsx)("div",{children:t})]})]})})},L=i(119),W=i.n(L),F=i(118),M=i.n(F),J=i(117),K=i.n(J),z=function(e){var n=e.icon,i={display:"flex",alignItems:"center",justifyItems:"center",justifyContent:"center",width:"2rem",height:"2rem",margin:"0.25rem 0.5rem 0",borderRadius:"50%",textAlign:"center"};return"1"===n?Object(o.jsx)("div",{style:Object(j.a)(Object(j.a)({},i),{},{background:"navy"}),children:Object(o.jsx)(K.a,{style:{color:"aqua"}})}):"3"===n?Object(o.jsx)("div",{style:Object(j.a)(Object(j.a)({},i),{},{background:"darkred"}),children:Object(o.jsx)(M.a,{style:{color:"yellow"}})}):Object(o.jsx)("div",{style:Object(j.a)(Object(j.a)({},i),{},{background:"slategray"}),children:Object(o.jsx)(W.a,{style:{color:"snow"}})})},U=function(e){var n=e.id,i=e.name;return Object(o.jsx)("div",{style:Object(j.a)({writingMode:"vertical-rl",transform:"rotate(180deg)",lineHeight:1,padding:"0.5rem",textTransform:"uppercase",fontWeight:700},{1:{background:"dodgerblue"},2:{background:"deepskyblue"},3:{background:"goldenrod"},4:{background:"darkkhaki"},5:{background:"peachpuff"},6:{background:"lightsalmon"}}[n]),children:i})},q=i(188),G=i(189),V=i(190),Y=i(191),Q=i(192),Z=i(193),X=i(194),$=i(195),ee=i(196),ne={1:q.a,2:G.a,3:V.a,4:Y.a,5:Q.a,6:Z.a,7:X.a,8:$.a,9:ee.a},ie=function(e){var n=e.value,i=ne[n];return Object(o.jsx)(i,{style:{lineHeight:1,fontSize:"1rem"}})},te=function(e){var n=e.name,i=e.region,t=e.faction,r=e.number;return Object(o.jsx)(D.a,{elevation:5,style:{display:"inline-block",position:"relative",padding:" 0.75rem 0.5rem 0.25rem",width:"12rem",height:"18rem",maxWidth:"12rem",maxHeight:"18rem",lineHeight:1,background:"beige"},children:Object(o.jsxs)("div",{style:{lineHeight:1,minHeight:"100%",background:"antiquewhite",boxShadow:"0px 0px 4px rgba(85,85,85, 0.25)"},children:[Object(o.jsxs)(B.a,{container:!0,spacing:1,style:{alignItems:"center"},children:[Object(o.jsx)(B.a,{item:!0,xs:3,children:Object(o.jsx)(z,{icon:t.id})}),Object(o.jsx)(B.a,{item:!0,xs:9,children:Object(o.jsx)("span",{style:{lineHeight:0,fontWeight:700,textTransform:"uppercase"},children:n})})]}),Object(o.jsx)("div",{style:{position:"absolute",bottom:"3rem",left:"0.5rem",lineHeight:1},children:Object(o.jsx)(U,{id:i.id,name:i.name})}),Object(o.jsx)("div",{style:{position:"absolute",bottom:"0.75rem",left:"1rem",lineHeight:1},children:Object(o.jsx)(ie,{value:r})})]})})},oe=i(198),re=i(206),ae=i(205),ce=i(207),de=function(e){var n=e.id,i=e.hand,t=e.label,r=e.location,a=void 0===r?"deck":r,c=Object(s.b)(),d=Object(s.c)((function(e){return e.deck}))[a];return Object(o.jsxs)(oe.a,{children:[Object(o.jsx)(re.a,{id:n,children:t}),Object(o.jsxs)(ae.a,{labelId:n,style:{minWidth:"12rem"},value:"",onChange:function(e){var n=e.target,t=(n=void 0===n?{}:n).value,o=void 0===t?"":t;c("discard"===a?H({hand:i,card:o}):w({hand:i,card:o}))},children:[Object(o.jsx)(ce.a,{value:""},"empty"),d.map((function(e){return Object(o.jsx)(ce.a,{value:e.id,children:e.name},e.id)}))]})]})},se=i(85),le=i(199),me=i(124),ue=i(120),be=i.n(ue),je=i(121),ge=i.n(je),fe=["1","2","3","4"],pe=function(e){var n=e.hand,i=e.card,t=Object(s.b)(),a=Object(r.useState)(null),c=Object(se.a)(a,2),d=c[0],l=c[1],m=function(e){var o=e.target,r=(o=void 0===o?{}:o).value,a=void 0===r?"":r;l(null),a&&t(E({from:n,to:a,card:i}))},u=fe.filter((function(e){return e!==n}));return Object(o.jsxs)(B.a,{container:!0,spacing:"1",style:{alignItems:"center",justifyContent:"flex-end"},children:[Object(o.jsxs)(B.a,{item:!0,children:[Object(o.jsx)(le.a,{size:"small",color:"success",onClick:function(e){l(e.currentTarget)},children:Object(o.jsx)(be.a,{})}),Object(o.jsx)(me.a,{id:"simple-menu",anchorEl:d,keepMounted:!0,open:Boolean(d),onClose:m,children:u.map((function(e){return Object(o.jsx)(ce.a,{value:e,onClick:m,children:e})}))})]}),Object(o.jsx)(B.a,{item:!0,children:Object(o.jsx)(le.a,{size:"small",color:"error",onClick:function(){t(_({hand:n,card:i}))},children:Object(o.jsx)(ge.a,{})})})]})},he=function(e){var n=e.id,i=Object(s.c)((function(e){return e.deck[n]}));return Object(o.jsxs)("div",{style:{padding:"0 2rem 1rem",borderBottom:"1px solid lightgray"},children:[Object(o.jsxs)(B.a,{container:!0,spacing:"2",style:{alignItems:"flex-end",marginBottom:"2rem"},children:[Object(o.jsx)(B.a,{item:!0,children:Object(o.jsx)("span",{style:{display:"inline-block",marginBottom:"0.5rem",fontSize:"1rem",lineHeight:1,fontWeight:700,textTransform:"uppercase"},children:"Player ".concat(n)})}),Object(o.jsx)(B.a,{item:!0,children:Object(o.jsx)(de,{id:"hand-".concat(n),hand:n,label:"Player Deck"})}),Object(o.jsx)(B.a,{item:!0,children:Object(o.jsx)(de,{id:"hand-discard-".concat(n),hand:n,location:"discard",label:"Discard Deck"})}),Object(o.jsx)(B.a,{item:!0,children:i.length>7&&Object(o.jsx)("span",{style:{fontWeight:700,lineHeight:1,color:"red",display:"inline-block",marginBottom:"0.5rem"},children:"Player has too many cards."})})]}),Object(o.jsx)(B.a,{container:!0,spacing:"4",children:i.map((function(e,i){return Object(o.jsxs)(B.a,{item:!0,style:{position:"relative"},children:[e.number?Object(o.jsx)(te,Object(j.a)({},e)):Object(o.jsx)(I,Object(j.a)({},e)),Object(o.jsx)("div",{style:{marginTop:"0.5rem"},children:Object(o.jsx)(pe,{hand:n,card:e.id})})]})}))})]})},Oe=i(200),xe=function(e){var n=Object(s.b)(),i=Object(r.useState)(""),t=Object(se.a)(i,2),a=t[0],c=t[1];return Object(o.jsx)(Oe.a,{variant:"contained",color:"secondary",onClick:function(){a?(n(R()),c("")):c("Really?")},children:a||"Reset"})},ye=function(e){var n=e.hands,i=Object(s.b)();return Object(r.useEffect)((function(){i(C())}),[i]),Object(o.jsxs)("div",{className:"App",children:[Object(o.jsx)(l.a,{position:"static",children:Object(o.jsxs)(m.a,{children:[Object(o.jsx)(u.a,{style:{flexGrow:1},variant:"h6",children:"Pandemic Player Cards"}),Object(o.jsx)(xe,{})]})}),n.map((function(e,n){return Object(o.jsx)(he,{id:e},"hand-".concat(n))}))]})};ye.defaultProps={hands:["1","2","3","4"]};var ve=ye,ke=function(e){e&&e instanceof Function&&i.e(3).then(i.bind(null,208)).then((function(n){var i=n.getCLS,t=n.getFID,o=n.getFCP,r=n.getLCP,a=n.getTTFB;i(e),t(e),o(e),r(e),a(e)}))},Se=i(69),Pe=new Se.ApolloClient({uri:Object({NODE_ENV:"production",PUBLIC_URL:"/pandemic-remote",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_API_ROOT,cache:new Se.InMemoryCache({typePolicies:{Cards:{keyFields:["id"]},Deck:{keyFields:["id"]},Hand:{keyFields:["id"]}}})}),Ce="PANDEMIC_ZERO_STORE",Ae=function(e){try{var n=sessionStorage.getItem(e);if(null===n)return;return JSON.parse(n)}catch(i){return}}(Ce),Te=Object(O.a)({preloadedState:Ae,reducer:{deck:N}});Te.subscribe((function(){!function(e,n){try{var i=JSON.stringify(n);sessionStorage.setItem(e,i)}catch(t){}}(Ce,Te.getState())}));var we=Te,_e=function(e){var n=e.children;return Object(o.jsx)(s.a,{store:we,children:n})};Object({NODE_ENV:"production",PUBLIC_URL:"/pandemic-remote",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_GQL_FLAG&&(_e=function(e){var n=e.children;return Object(o.jsx)(Se.ApolloProvider,{client:Pe,children:n})});var Ee=_e,He=i(204);d.a.render(Object(o.jsxs)(a.a.StrictMode,{children:[Object(o.jsx)(He.a,{}),Object(o.jsx)(Ee,{children:Object(o.jsx)(ve,{})})]}),document.getElementById("root")),ke()},95:function(e){e.exports=JSON.parse('[{"id":"1","name":"Atlanta","region":"1","faction":"1","number":"2","description":"","condition":""},{"id":"2","name":"Washington","region":"1","faction":"1","number":"1","description":"","condition":""},{"id":"3","name":"San Francisco","region":"1","faction":"1","number":"6","description":"","condition":""},{"id":"4","name":"New York","region":"1","faction":"1","number":"4","description":"","condition":""},{"id":"5","name":"Los Angeles","region":"1","faction":"1","number":"8","description":"","condition":""},{"id":"6","name":"Toronto","region":"1","faction":"1","number":"9","description":"","condition":""},{"id":"7","name":"Mexico City","region":"1","faction":"2","number":"5","description":"","condition":""},{"id":"8","name":"Havana","region":"1","faction":"3","number":"5","description":"","condition":""},{"id":"9","name":"Bogota","region":"2","faction":"2","number":"3","description":"","condition":""},{"id":"10","name":"Buenos Aires","region":"2","faction":"2","number":"1","description":"","condition":""},{"id":"11","name":"Santiago","region":"2","faction":"2","number":"5","description":"","condition":""},{"id":"12","name":"Lima","region":"2","faction":"2","number":"7","description":"","condition":""},{"id":"13","name":"Sao Paulo","region":"2","faction":"2","number":"9","description":"","condition":""},{"id":"14","name":"Istanbul","region":"3","faction":"1","number":"2","description":"","condition":""},{"id":"15","name":"London","region":"3","faction":"1","number":"7","description":"","condition":""},{"id":"16","name":"Kiev","region":"3","faction":"3","number":"3","description":"","condition":""},{"id":"17","name":"East Berlin","region":"3","faction":"3","number":"9","description":"","condition":""},{"id":"18","name":"Leningrad","region":"3","faction":"3","number":"2","description":"","condition":""},{"id":"19","name":"Madrid","region":"3","faction":"2","number":"6","description":"","condition":""},{"id":"20","name":"Moscow","region":"3","faction":"3","number":"8","description":"","condition":""},{"id":"21","name":"Paris","region":"3","faction":"1","number":"5","description":"","condition":""},{"id":"22","name":"Prague","region":"3","faction":"3","number":"1","description":"","condition":""},{"id":"23","name":"Rome","region":"3","faction":"1","number":"8","description":"","condition":""},{"id":"24","name":"Warsaw","region":"3","faction":"3","number":"4","description":"","condition":""},{"id":"25","name":"Algiers","region":"4","faction":"1","number":"3","description":"","condition":""},{"id":"26","name":"Cairo","region":"4","faction":"3","number":"7","description":"","condition":""},{"id":"27","name":"Lagos","region":"4","faction":"2","number":"2","description":"","condition":""},{"id":"28","name":"Khartoum","region":"4","faction":"2","number":"4","description":"","condition":""},{"id":"29","name":"Leopoldville","region":"4","faction":"2","number":"8","description":"","condition":""},{"id":"30","name":"Johannesburg","region":"4","faction":"1","number":"6","description":"","condition":""},{"id":"31","name":"Bombay","region":"5","faction":"2","number":"2","description":"","condition":""},{"id":"32","name":"Delhi","region":"5","faction":"2","number":"4","description":"","condition":""},{"id":"33","name":"Karachi","region":"5","faction":"2","number":"8","description":"","condition":""},{"id":"34","name":"Peking","region":"5","faction":"3","number":"2","description":"","condition":""},{"id":"35","name":"Baghdad","region":"5","faction":"3","number":"5","description":"","condition":""},{"id":"36","name":"Riyadh","region":"5","faction":"2","number":"6","description":"","condition":""},{"id":"37","name":"Shanghai","region":"5","faction":"3","number":"6","description":"","condition":""},{"id":"38","name":"Hanoi","region":"5","faction":"3","number":"1","description":"","condition":""},{"id":"39","name":"Pyongyang","region":"5","faction":"3","number":"8","description":"","condition":""},{"id":"40","name":"Novosibirsk","region":"5","faction":"3","number":"9","description":"","condition":""},{"id":"41","name":"Calcutta","region":"5","faction":"2","number":"7","description":"","condition":""},{"id":"42","name":"Bangkok","region":"5","faction":"2","number":"3","description":"","condition":""},{"id":"43","name":"Saigon","region":"5","faction":"1","number":"4","description":"","condition":""},{"id":"44","name":"Tokyo","region":"6","faction":"2","number":"1","description":"","condition":""},{"id":"45","name":"Sydney","region":"6","faction":"1","number":"5","description":"","condition":""},{"id":"46","name":"Osaka","region":"6","faction":"2","number":"4","description":"","condition":""},{"id":"47","name":"Jakarta","region":"6","faction":"2","number":"6","description":"","condition":""},{"id":"48","name":"Manila","region":"6","faction":"2","number":"9","description":"","condition":""},{"id":"49","name":"Airlift","region":"","faction":"","number":"","description":"Move a pawn to any city or move a team to any city.","condition":"Play any time. Not an action."},{"id":"50","name":"Forecast","region":"","faction":"","number":"","description":"Look at the next 6 threat cards. Rearrance them in any order and return them to the top of the Threat deck.","condition":"Play any time. Not an action."},{"id":"51","name":"Cover of Darkness","region":"","faction":"","number":"","description":"This turn, remove 1 agent from each city the player drive/ferries to.","condition":"Play during the Do Actions step of a turn. Not an action."},{"id":"52","name":"A holdover from the war","region":"","faction":"","number":"","description":"Put a safehouse onto 1 city on the board.","condition":"Play any time. Not an action."},{"id":"53","name":"Counter-intelligence","region":"","faction":"","number":"","description":"Put 1 card from the Threat discard pile into the game end area.","condition":"Play any time. You may play this between the Add Agents and Intensify steps of an excalation. Not an action."}]')},96:function(e){e.exports=JSON.parse('{"1":{"id":"1","name":"Allied"},"2":{"id":"2","name":"Neutral"},"3":{"id":"3","name":"Communist"}}')},97:function(e){e.exports=JSON.parse('{"1":{"id":"1","name":"North America"},"2":{"id":"2","name":"South America"},"3":{"id":"3","name":"Europe"},"4":{"id":"4","name":"Africa"},"5":{"id":"5","name":"Asia"},"6":{"id":"6","name":"Pacific Rim"}}')}},[[146,1,2]]]);
//# sourceMappingURL=main.cdc9f590.chunk.js.map